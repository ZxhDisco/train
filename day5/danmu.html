<!DOCTYPE html>
 
 
<html>
<head>
    <meta charset="utf-8">
    <title>弹幕墙</title>       
    <link rel="stylesheet" type="text/css" href="danmu.css" />
</head>
<body>
    <div class="box">
        <div class="top"></div>
        <div class="bot">
            <input type="text" id="txt" placeholder="我来说两句..." />
            <button type="button" id="btn">发送</button>
            <button type="button" id="clean">清屏</button>
        </div>
    </div>
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
        <script>
        $(function() {
            var colors = ["red", "green", "hotpink", "pink", "cyan", "yellowgreen", "purple", "deepskyblue"];
            $("#btn").on("click", function() {
               appendtext()
            });

            $("#clean").on("click", function() {
               $("span").remove()
            });
            $(document).keydown(function(event){
                if(event.keyCode==13)
                appendtext();
            })


            function appendtext(){
                var randomColor = parseInt(Math.random() * colors.length);
                var randomY = parseInt(Math.random() * 580);
                $("<span></span>") //创建span
                .text($("#txt").val()) //设置内容
                .css("color", colors[randomColor]) //设置字体颜色
                .css("left", "1500px") //设置left值
                .css("top", randomY) //设置top值
                .animate({
                    left: -500
                    }, 10000, "linear", function() {
                    //到了终点，需要删除
                        $(this).remove();
                    }) //添加动画
                .appendTo(".top");

                $("#txt").val("");
            }
        });
    </script>
</body>
</html>